<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:list="http://java.sun.com/jsf/composite/list"
	xmlns:composite="http://java.sun.com/jsf/composite">

<h:head></h:head>

<h:body>
	<h:form>
		<p:outputPanel>
			<p:outputPanel>
				<ui:repeat var="carte" value="#{messageBean.carti}">
					<p:panel id="panel" widgetVar="panel #{carte.id}" closable="true"
						toggleable="true">
						<p:outputLabel for="numeClient" value="Nume:" />
						<p:inputText id="numeClient" required="true"
							requiredMessage="Required" value="#{carte.client.nume}" />
						<p:message for="numeClient" />
						<p:outputLabel for="prenumeClient" value="Prenume:" />
						<p:inputText id="prenumeClient" value="#{carte.client.prenume}"
							required="true" requiredMessage="Prenume required" />
						<p:message for="prenumeClient" />
						<p:outputLabel for="perioada" value="Perioada:" />
						<p:inputText id="perioada" value="#{carte.client.endDate}"
							required="true" requiredMessage="Perioada required" />
						<p:message for="perioada" />
						<p:commandButton value="Submit"
							actionListener="#{messageBean.error(carte)}"
							oncomplete="if (args &amp;&amp; !args.validationFailed) {PF('panel #{carte.id}').close();}"
							update="panel" process="panel" />
					</p:panel>
				</ui:repeat>
			</p:outputPanel>
		</p:outputPanel>
	</h:form>

</h:body>

</html>